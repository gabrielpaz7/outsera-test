<div class="dashboard">
    <mat-card>
        <mat-card-header>
            <mat-card-title>List years with multiple winners</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <table>
                <thead>
                    <tr>
                        <th>Year</th>
                        <th>Win Count</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let row of yearsWithMultipleWinners">
                        <td>{{ row.year }}</td>
                        <td>{{ row.winnerCount }}</td>
                    </tr>
                </tbody>
            </table>
        </mat-card-content>
    </mat-card>
    <mat-card>
        <mat-card-header>
            <mat-card-title>Top 3 studios with winners</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Win Count</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let studio of studiosWinCount">
                        <td>{{ studio.name }}</td>
                        <td>{{ studio.winCount }}</td>
                    </tr>
                </tbody>
            </table>
        </mat-card-content>
    </mat-card>
    <mat-card>
        <mat-card-header>
            <mat-card-title>Producers with longest and shortest interval between wins</mat-card-title>
        </mat-card-header>
        <mat-card-content class="producers-win-interval">
            <div class="table-wrapper">
                <h2>Maximum</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Producer</th>
                            <th>Interval</th>
                            <th>Previous Year</th>
                            <th>Following Year</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let producerWinInterval of producersWinInterval.max">
                            <td>{{ producerWinInterval.producer }}</td>
                            <td>{{ producerWinInterval.interval }}</td>
                            <td>{{ producerWinInterval.previousWin }}</td>
                            <td>{{ producerWinInterval.followingWin }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="table-wrapper">
                <h2>Minimum</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Producer</th>
                            <th>Interval</th>
                            <th>Previous Year</th>
                            <th>Following Year</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let producerWinInterval of producersWinInterval.min">
                            <td>{{ producerWinInterval.producer }}</td>
                            <td>{{ producerWinInterval.interval }}</td>
                            <td>{{ producerWinInterval.previousWin }}</td>
                            <td>{{ producerWinInterval.followingWin }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </mat-card-content>
    </mat-card>
    <mat-card>
        <mat-card-header>
            <mat-card-title>List movie winners by year</mat-card-title>
        </mat-card-header>
        <mat-card-content class="list-winning-movies">
            <form [formGroup]="form" (ngSubmit)="getWinningMoviesByYear()">
                <input type="number" name="selectedYear" placeholder="Search by year" formControlName="selectedYear" />
                <button type="button" mat-flat-button (click)="getWinningMoviesByYear()" color="primary">
                    <mat-icon>search</mat-icon>
                </button>
            </form>
            <table>
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Year</th>
                        <th>Ttile</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let movie of winningMoviesByYear">
                        <td>{{ movie.id }}</td>
                        <td>{{ movie.year }}</td>
                        <td>{{ movie.title }}</td>
                    </tr>
                </tbody>
            </table>
        </mat-card-content>
    </mat-card>
</div>
